df = read.csv("GLM-AED2/calib_results_nse.csv")
library(ggplot2)
library(tidyverse)
library(glmtools)
df = read.csv("GLM-AED2/calib_par.csv")
getwd()
setwd('../../../Ladwig/lerwq_mendota/')
library(ggplot2)
library(tidyverse)
library(glmtools)
df = read.csv("GLM-AED2/calib_par.csv")
m.df = reshape2::melt(df, id.vars = c('time','NRMSE'))
ggplot(m.df) +
geom_point(aes(as.POSIXct(time), value, col = NRMSE)) +
facet_wrap(~ variable, scales = 'free') +
scale_colour_continuous(type = rev("viridis"))
ggplot(m.df %>% mutate(y = 0) %>% filter(NRMSE < 10), aes(x = value, col = NRMSE)) +
geom_density() +
facet_wrap(~ variable, scales = 'free') +
geom_jitter(aes(value, y, col = NRMSE), height = 0.001) +
scale_colour_continuous(type = rev("viridis"))
# geom_jitter(data = m.df, aes(time,value), height = 0.01)
df = read.csv("GLM-AED2/calib_results_nse.csv")
df = df %>% mutate(flag = temp + OXY_oxy + NIT_nit + NIT_amm + PHS_frp + SIL_rsi + OGM_doc +
PHY_TCHLA) %>%
dplyr::filter(flag > -1e8)
# fits_rm = df[-c(which.max(df$NRMSE)), ]
# while(TRUE){
#   df = read.csv("GLM-AED2/calib_results_nse.csv")
#
#   df = df %>% mutate(flag = temp + OXY_oxy + NIT_nit + NIT_amm + PHS_frp + SIL_rsi + OGM_doc +
#                        PHY_TCHLA) %>%
#     dplyr::filter(flag > -1e8)
#   ggplot2::ggplot(reshape2::melt(df, id.vars = c('time', 'NRMSE'))) +
#     geom_point(aes(as.POSIXct(time), value, col = NRMSE)) +
#     geom_line(aes(as.POSIXct(time), value, col = NRMSE)) +
#     theme(legend.position = 'bottom') + xlab('time') + ylab('NSE')+
#     scale_colour_continuous(type = rev("viridis")) +
#     facet_wrap(~variable, scales = 'free')
# }
ggplot2::ggplot(reshape2::melt(df, id.vars = c('time', 'NRMSE'))) +
geom_point(aes(as.POSIXct(time), value, col = NRMSE)) +
geom_line(aes(as.POSIXct(time), value, col = NRMSE)) +
theme(legend.position = 'bottom') + xlab('time') + ylab('NSE')+
scale_colour_continuous(type = rev("viridis")) +
facet_wrap(~variable, scales = 'free')
nrow(df)
df = read.csv("GLM-AED2/calib_par.csv")
m.df = reshape2::melt(df, id.vars = c('time','NRMSE'))
ggplot(m.df) +
geom_point(aes(as.POSIXct(time), value, col = NRMSE)) +
facet_wrap(~ variable, scales = 'free') +
scale_colour_continuous(type = rev("viridis"))
ggplot(m.df %>% mutate(y = 0) %>% filter(NRMSE < 10), aes(x = value, col = NRMSE)) +
geom_density() +
facet_wrap(~ variable, scales = 'free') +
geom_jitter(aes(value, y, col = NRMSE), height = 0.001) +
scale_colour_continuous(type = rev("viridis"))
# geom_jitter(data = m.df, aes(time,value), height = 0.01)
